{% extends 'main/layout/layout.html' %}

{% block title%}Webpage posts{% endblock %}

{% block content%}
    <h1>Posts</h1>
    <div class="d-flex flex-column gap-4">
    {% if posts %}

        {% for post in posts %}

            <div>
            <h3><a href="/marketplace/{{ post.id }}">{{ post.title }}</a></h3>
            <p>{{ post.excerpt }}</p>
            <p>Added by: {{ post.owner }}, {{ post.published_at|date:"d\.m\.Y l" }}</p>
            </div>
            <div>
                {% if post.post_image %}
                <img src="{{ post.post_image.url }}" alt="Post image" class="img-fluid rounded shadow" style="max-width: 300px; height: auto;">
                {% endif %}
            </div>

        {% endfor %}

    {% else %}

        <p>No posts for now. Come back later!</p>

    {% endif %}
    </div>
{% endblock %}